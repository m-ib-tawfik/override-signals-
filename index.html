<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7-Step Mandatory Override Control Procedure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* BRILLIANT BLUES PALETTE */
            --color-dark-blue: #00429D;
            --color-medium-blue: #4771B2;
            --color-light-blue: #7A9FC6;
            --color-pale-blue: #A9CDD4;
            --color-very-pale: #D1EAE5;
            --color-accent-orange: #F9A14E;
            --color-text-dark: #1f2937;
            --color-text-medium: #4b5563;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f7f6;
        }
        .bg-dark-blue { background-color: var(--color-dark-blue); }
        .text-dark-blue { color: var(--color-dark-blue); }
        .bg-medium-blue { color: var(--color-medium-blue); }
        .text-medium-blue { color: var(--color-medium-blue); }
        .bg-light-blue { background-color: var(--color-light-blue); }
        .text-light-blue { color: var(--color-light-blue); }
        .bg-accent-orange { background-color: var(--color-accent-orange); }
        .text-accent-orange { color: var(--color-accent-orange); }
        
        .section-card {
            background-color: white;
            border-radius: 0.5rem; 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); 
            padding: 0.4rem 0.2rem; /* Aggressively reduced padding */
            margin-bottom: 0.1rem; 
        }
        h1 {
            font-size: 1.6rem; 
            margin-bottom: 0.1rem; /* Minimized margin */
        }
        p.subheader {
            font-size: 0.8rem; 
            margin-bottom: 0.2rem; /* Minimized margin */
        }
        .step-box {
            background-color: var(--color-very-pale);
            border-radius: 0.4rem; 
            padding: 0.3rem; /* Aggressively reduced internal padding */
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            border-left: 3px solid var(--color-accent-orange); 
            height: auto;
            min-height: 9rem; /* Reduced for single-page fit */
            position: relative;
            display: flex;
            flex-direction: column;
            width: 100%; 
        }
        .step-number {
            width: 1.5rem; /* Reduced size */
            height: 1.5rem;
            background-color: var(--color-dark-blue);
            color: white;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.75rem; /* Reduced font size */
            margin-bottom: 0.05rem; 
        }
        .step-title {
            font-size: 0.75rem; /* Reduced title size */
            font-weight: 700; 
            color: var(--color-dark-blue);
            margin-bottom: 0.05rem; /* Minimized margin */
        }
        .step-description {
            font-size: 0.6rem; /* Critical: Smallest readable size */
            color: var(--color-text-dark);
            line-height: 1.1; /* Tightest line height */
        }
        .flow-arrow-down {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.7rem; 
            color: var(--color-medium-blue);
            height: 0.2rem; /* Aggressively reduced height */
            margin: 0.05rem 0; 
        }

        /* Container padding minimized */
        .container {
            padding: 0.05rem; /* Aggressively reduced external padding */
        }

        /* Final callout section minimized */
        .final-callout {
            padding: 0.25rem; /* Reduced padding */
            margin-top: 0.05rem; /* Reduced margin */
            font-size: 0.7rem; /* Reduced font size */
        }

        /* Grid specific minimal gap */
        .min-gap-grid {
            gap-y: 0.05rem; /* Minimized vertical gap */
            gap-x: 0.05rem; /* Minimized horizontal gap */
        }

        /* Print optimization */
        @media print {
            body {
                background-color: #ffffff;
            }
            .container {
                max-width: none;
                padding: 0.05in; 
                margin: 0;
            }
            .step-box {
                min-height: 9rem; /* Enforce height in print view */
                padding: 0.2rem;
            }
            header {
                margin-bottom: 0.1rem;
            }
            .section-card {
                box-shadow: none;
                border: 1px solid #eee;
                padding: 0.15rem;
            }
        }
    </style>
</head>
<body>
    
    <div class="container mx-auto p-2 md:p-2 max-w-7xl">
        <header class="text-center mb-2">
            <h1 class="font-bold text-dark-blue mb-0">OVERRIDE CONTROL MANDATORY PROCEDURE</h1>
            <p class="text-medium-blue font-light subheader">7-Step Sequential Flow for Implementation, Logging, and Accountability</p>
        </header>

        <section class="section-card">
            
            <div class="grid grid-cols-1 md:grid-cols-7 min-gap-grid">

                <!-- STEP 1: Discussion & RA -->
                <div class="col-span-1 flex flex-col items-center">
                    <div class="step-box w-full">
                        <div class="step-number">1</div>
                        <div class="step-title">Discussion & RA</div>
                        <p class="step-description">Panel Engineer discusses with Team Leader & Supervisor. Decision requires detailed Risk Assessment.</p>
                    </div>
                    <div class="flow-arrow-down md:hidden">↓</div>
                </div>

                <!-- STEP 2: Authorization -->
                <div class="col-span-1 flex flex-col items-center">
                    <div class="step-box w-full">
                        <div class="step-number">2</div>
                        <div class="step-title">Authorization</div>
                        <p class="step-description">Panel Engineer sign the PSIC as issuing authority and Production GM or a delegate sign as authorization authority.</p>
                    </div>
                    <div class="flow-arrow-down md:hidden">↓</div>
                </div>

                <!-- STEP 3: Duration and Renewal -->
                <div class="col-span-1 flex flex-col items-center">
                    <div class="step-box w-full">
                        <div class="step-number">3</div>
                        <div class="step-title">Duration & Renewal</div>
                        <p class="step-description">Maximum validity is 12 hours. Must resign PSIC for extension. Reissue certificate weekly for long-term needs.</p>
                    </div>
                    <div class="flow-arrow-down md:hidden">↓</div>
                </div>
                
                <!-- STEP 4: Logbooks and Handover -->
                <div class="col-span-1 flex flex-col items-center">
                    <div class="step-box w-full">
                        <div class="step-number">4</div>
                        <div class="step-title">Logging & Handover</div>
                        <p class="step-description">Record in Control Room Register. Must be formally and verbally handed over during shift change (supported by PSIC/Register).</p>
                    </div>
                    <div class="flow-arrow-down md:hidden">↓</div>
                </div>

                <!-- STEP 5: Weekly Verification -->
                <div class="col-span-1 flex flex-col items-center">
                    <div class="step-box w-full">
                        <div class="step-number">5</div>
                        <div class="step-title">Weekly Verification</div>
                        <p class="step-description">Production Support reviews physical PSICs and logbook against system overrides to check for discrepancies.</p>
                    </div>
                    <div class="flow-arrow-down md:hidden">↓</div>
                </div>

                <!-- STEP 6: Violation Reporting and Tracking -->
                <div class="col-span-1 flex flex-col items-center">
                    <div class="step-box w-full">
                        <div class="step-number">6</div>
                        <div class="step-title">Violation Reporting</div>
                        <p class="step-description">Any violation (e.g., missing signature, non-registered) must be addressed directly and immediately via email to Production GM on weekly basis.</p>
                    </div>
                    <div class="flow-arrow-down md:hidden">↓</div>
                </div>

                <!-- STEP 7: Trend Analysis (Final Step) -->
                <div class="col-span-1 flex flex-col items-center">
                    <div class="step-box w-full">
                        <div class="step-number">7</div>
                        <div class="step-title">Trend Analysis</div>
                        <p class="step-description">Production Support creates Excel sheet to record violations, providing data for monthly analysis to identify trends and root causes.</p>
                        <p class="mt-1 text-xs font-semibold text-dark-blue">Drives Process Safety KPI (Tier 3.4 & 3.5)</p>
                    </div>
                </div>

            </div>
            
        </section>
        
        <section class="section-card final-callout">
            <div class="text-center text-dark-blue font-semibold">
                <p>Failure to follow this sequence compromises safety barriers, increasing operational risk.</p>
            </div>
        </section>

    </div>

    <script>
        /*
        Color Palette: Brilliant Blues (Used for styling via CSS variables)
        Infographic Narrative Plan:
        1. All steps (1-7) are presented in a sequential grid flow.
        2. Steps are clearly numbered and titled for quick digestion.
        3. All non-procedural content (KPI definitions, core mandate) has been removed, fulfilling the user's request for a focus ONLY on the steps.
        Visualization Choices:
        - Stepped Flow Chart (HTML/CSS) - Goal: Organize (Process).
        - NO CHART.JS/PLOTLY.JS CHARTS WERE USED.
        - NO MERMAID JS WAS USED. NO SVG WAS USED.
        */

        window.addEventListener('DOMContentLoaded', () => {

            const chartColors = {
                darkBlue: 'rgb(0, 66, 157)',
                mediumBlue: 'rgb(71, 113, 178)',
                lightBlue: 'rgb(122, 159, 198)',
                paleBlue: 'rgb(169, 205, 212)',
                veryPale: 'rgb(209, 234, 229)',
                accentOrange: 'rgb(249, 161, 78)'
            };

            function wrapLabel(label, maxWidth = 16) {
                if (typeof label !== 'string' || label.length <= maxWidth) {
                    return label;
                }
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                for (const word of words) {
                    if ((currentLine + ' ' + word).trim().length > maxWidth && currentLine.length > 0) {
                        lines.push(currentLine);
                        currentLine = word;
                    } else {
                        currentLine = (currentLine + ' ' + word).trim();
                    }
                }
                if (currentLine.length > 0) {
                    lines.push(currentLine);
                }
                return lines;
            }
            
            function createTooltipConfig() {
                return {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                              return label.join(' ');
                            } else {
                              return label;
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
